<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elizabeth & Juan Pablo - 14 de Marzo 2026</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Lora:wght@400;500&display=swap" rel="stylesheet">
    <script async src="https://tally.so/widgets/embed.js"></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elizabeth & Juan Pablo - 14 de Marzo 2026</title>
    
    <!-- Open Graph / WhatsApp Preview -->
    <meta property="og:title" content="Elizabeth & Juan Pablo - 14 de marzo 2026" />
    <meta property="og:description" content="Ritual de celebración del amor. Te esperamos el sábado 14 de marzo a las 18:00hs en Estilo Coghlan." />
    <meta property="og:image" content="https://juntosotravez.com.ar/preview.jpg" />
    <meta property="og:url" content="https://juntosotravez.com.ar" />
    <meta property="og:type" content="website" />
    
    <!-- Twitter Card (opcional pero recomendado) -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Elizabeth & Juan Pablo" />
    <meta name="twitter:description" content="Ritual de celebración del amor." />
    <meta name="twitter:image" content="https://juntosotravez.com.ar/preview.jpg" />
    
    <link rel="stylesheet" href="style.css">
    ...
</head>
<body>
    <!-- Audio de fondo -->
    <audio id="background-music" loop>
        <source src="gira.mp3" type="audio/mpeg">
    </audio>

    <!-- Botón de control de música -->
    <button id="music-toggle" class="music-button show-after-cta" aria-label="Reproducir música">
        <svg class="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M8 5v14l11-7z"/>
        </svg>
        <svg class="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
            <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
        </svg>
    </button>
    <div class="music-label">Suenan los tambores</div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="hero-title">Elizabeth <span class="mobile-break"><br></span>& <span class="mobile-break"><br></span>Juan Pablo</h1>
            
            <div class="symbols">
                <span class="moon">☾</span>
                <span class="sun">☀︎</span>
            </div>

            <p class="hero-subtitle">
                Ritual de celebración del amor
            </p>
            
            <!-- Botón de música principal (solo mobile) -->
            <div class="music-cta">
                <button id="music-cta-button" class="music-cta-button">
                    Toque para comenzar
                </button>
            </div>
        </div>
    </section>

    <!-- Separador -->
    <div class="divider">
        <span class="divider-line"></span>
        <span class="divider-symbols">☾ ☀︎</span>
        <span class="divider-line"></span>
    </div>

    <!-- Detalles Section -->
    <section class="details">
        <div class="detail-block">
            <p class="detail-label">Cuándo</p>
            <p class="detail-title">Sábado 14 de marzo</p>
            <p class="detail-subtitle">18:00 horas</p>
        </div>

        <div class="detail-block">
            <p class="detail-label">Dónde</p>
            <p class="detail-title">Estilo Coghlan</p>
            <p class="detail-subtitle">Coghlan, Buenos Aires</p>
            <a href="https://maps.app.goo.gl/t8NHrLnVVgZCBmVR9" target="_blank" class="map-link">Ver en el mapa →</a>
        </div>

        <div class="detail-block">
            <p class="detail-label">Vestimenta</p>
            <p class="detail-text">
                Cómoda, suave, adecuada para un atardecer al aire libre.<br>
                <span class="highlight">Agradecemos no elegir negro</span>
            </p>
        </div>
    </section>

    <!-- Separador -->
    <div class="divider">
        <span class="divider-line"></span>
        <span class="divider-symbols">☾ ☀︎</span>
        <span class="divider-line"></span>
    </div>

    <!-- RSVP Section -->
    <section class="rsvp">
        <div class="rsvp-content">
            <p class="rsvp-text">
                Confirmar presencia<br>
                antes del 22 de febrero
            </p>
            
            <a href="/confirmacion.html" 
               class="rsvp-button rsvp-link-mobile"
               data-tally-open="682jo5"
               data-tally-layout="modal" 
               data-tally-width="800" 
               data-tally-overlay="1"
               data-tally-auto-close="0"
               data-tally-emoji-animation="wave">
               Confirmar presencia →
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
    </footer>

    <script>
        // Music CTA button
        const musicCtaButton = document.getElementById('music-cta-button');
        const musicCta = document.querySelector('.music-cta');
        const audio = document.getElementById('background-music');
        
        if (musicCtaButton) {
            musicCtaButton.addEventListener('click', () => {
                audio.play();
                musicCta.classList.add('hidden');
                
                // Update toggle button state
                isPlaying = true;
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'block';
                musicToggle.setAttribute('aria-label', 'Pausar música');
                
                // Show small music button on mobile
                if (window.innerWidth <= 768) {
                    musicToggle.style.display = 'flex';
                }
                
                // Hide label
                if (musicLabel) {
                    musicLabel.style.display = 'none';
                }
                
                // Remove from DOM after animation
                setTimeout(() => {
                    musicCta.style.display = 'none';
                }, 500);
            });
        }
        
        // Original music toggle button
        const musicToggle = document.getElementById('music-toggle');
        const playIcon = document.querySelector('.play-icon');
        const pauseIcon = document.querySelector('.pause-icon');
        const musicLabel = document.querySelector('.music-label');
        let isPlaying = false;

        musicToggle.addEventListener('click', () => {
            // Hide label after first click
            if (musicLabel) {
                musicLabel.style.display = 'none';
            }
            
            if (isPlaying) {
                audio.pause();
                playIcon.style.display = 'block';
                pauseIcon.style.display = 'none';
                musicToggle.setAttribute('aria-label', 'Reproducir música');
            } else {
                audio.play();
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'block';
                musicToggle.setAttribute('aria-label', 'Pausar música');
            }
            isPlaying = !isPlaying;
        });

        // Conditional RSVP button behavior
        const rsvpButton = document.querySelector('.rsvp-link-mobile');
        if (rsvpButton) {
    rsvpButton.addEventListener('click', (e) => {
        // On mobile (≤768px): go to /confirmacion.html
        // On desktop (>768px): open Tally popup
        if (window.innerWidth <= 768) {
            // Let default link behavior work
            rsvpButton.removeAttribute('data-tally-open');
        } else {
            // Prevent navigation, let Tally popup open
            e.preventDefault();
        }

        });
        }

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Fade-in animations on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.detail-block, .rsvp-content').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
            observer.observe(el);
        });
    </script>
</body>
</html>
